services:
  # Contenedor de la aplicaci√≥n Node.js con SQLite
  app:
    build:
      context: .
    container_name: pokemon-app
    environment:
      NODE_ENV: production
      PORT: 5173
      DATABASE_URL: file:/data/production/prod.db
      DATABASE_TEST_URL: file:/data/testing/test.db
      POKEAPI_URL: https://pokeapi.co/api/v2
    ports:
      - 5173:5173
    volumes:
      - production-db:/data/production
      - testing-db:/data/testing
      - ./prisma/schema.prisma:/app/prisma/schema.prisma:ro
      - ./prisma/migrations:/app/prisma/migrations:ro

volumes:
  production-db:
    driver: local
  testing-db:
    driver: local

